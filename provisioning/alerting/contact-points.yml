# Grafana Contact Points — Auto-provisioned
# Webhook-based contact point for alert notifications.
#
# To activate notifications, update ALERT_WEBHOOK_URL on the Grafana
# service in Render (e.g., a Slack Incoming Webhook or Discord webhook URL).
# Default is a no-op placeholder — alerts fire in the Grafana UI but no
# external notifications are sent until a real webhook URL is configured.
#
# NOTE: Grafana uses Go's os.ExpandEnv which does NOT support ${VAR:-default}
# shell syntax. The env var MUST be set on the Render service (even to a
# placeholder) or Grafana will crash on startup.
apiVersion: 1

contactPoints:
  - orgId: 1
    name: sophosic-webhook
    receivers:
      - uid: webhook-primary
        type: webhook
        disableResolveMessage: false
        settings:
          url: ${ALERT_WEBHOOK_URL}
          httpMethod: POST
